{% extends "base.html" %}

{% block title %}Submit Your Song - UrVote.Rocks{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">Submit Your AI Song</h1>
        <p class="text-xl text-gray-600">Join the Best Pro-American AI Song Contest powered by PayPortPro</p>
    </div>

    <div class="bg-white rounded-lg shadow-md p-8">
        {% if error %}
        <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="ml-3">
                    <h3 class="text-sm font-medium text-red-800">Submission Error</h3>
                    <div class="mt-2 text-sm text-red-700">
                        <p>{{ error }}</p>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        
        <form action="/submitter/upload" method="post" enctype="multipart/form-data" class="space-y-6">
            <!-- Artist Information -->
            <div>
                <label for="artist" class="block text-sm font-medium text-gray-700 mb-2">Artist / Team Name *</label>
                <input 
                    type="text" 
                    id="artist" 
                    name="artist_name" 
                    required 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Enter your artist name or team name"
                >
            </div>

            <!-- Email -->
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    required 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="your.email@example.com"
                >
                <p class="text-sm text-gray-500 mt-1">We'll use this to contact you about contest updates</p>
            </div>

            <!-- Song Title -->
            <div>
                <label for="title" class="block text-sm font-medium text-gray-700 mb-2">Song Title *</label>
                <input 
                    type="text" 
                    id="title" 
                    name="title" 
                    required 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Enter your song title"
                >
            </div>

            <!-- Genre -->
            <div>
                <label for="genre" class="block text-sm font-medium text-gray-700 mb-2">Genre</label>
                <select 
                    id="genre" 
                    name="genre" 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                >
                    <option value="">Select a genre</option>
                    <option value="pop">Pop</option>
                    <option value="rock">Rock</option>
                    <option value="country">Country</option>
                    <option value="hip-hop">Hip-Hop</option>
                    <option value="electronic">Electronic</option>
                    <option value="folk">Folk</option>
                    <option value="jazz">Jazz</option>
                    <option value="classical">Classical</option>
                    <option value="other">Other</option>
                </select>
            </div>

            <!-- AI Tools Used -->
            <div>
                <label for="ai_tools" class="block text-sm font-medium text-gray-700 mb-2">AI Tools Used *</label>
                <textarea 
                    id="ai_tools" 
                    name="ai_tools_used" 
                    required 
                    rows="3"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Describe the AI tools you used (e.g., 'ChatGPT for lyrics, Suno for music generation')"
                ></textarea>
            </div>

            <!-- Description -->
            <div>
                <label for="description" class="block text-sm font-medium text-gray-700 mb-2">Song Description</label>
                <textarea 
                    id="description" 
                    name="description" 
                    rows="4"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Tell us about your song, inspiration, and what makes it pro-American"
                ></textarea>
            </div>

            <!-- License Type -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">License Type *</label>
                <div class="space-y-3">
                    <label class="flex items-center">
                        <input 
                            type="radio" 
                            name="license_type" 
                            value="stream_only" 
                            checked 
                            class="mr-3 text-primary focus:ring-primary"
                        >
                        <div>
                            <span class="font-medium">Stream Only</span>
                            <p class="text-sm text-gray-500">Your song can only be streamed, not downloaded or remixed</p>
                        </div>
                    </label>
                    <label class="flex items-center">
                        <input 
                            type="radio" 
                            name="license_type" 
                            value="cc_by_nc" 
                            class="mr-3 text-primary focus:ring-primary"
                        >
                        <div>
                            <span class="font-medium">Creative Commons (CC BY-NC 4.0)</span>
                            <p class="text-sm text-gray-500">Others can download and remix your song for non-commercial use</p>
                        </div>
                    </label>
                </div>
            </div>

            <!-- File Upload -->
            <div>
                <label for="file" class="block text-sm font-medium text-gray-700 mb-2">Song File *</label>
                <input 
                    type="file" 
                    id="file" 
                    name="file" 
                    accept=".mp3,.wav,.flac,.m4a" 
                    required 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                >
                <p class="text-sm text-gray-500 mt-1">Accepted formats: MP3, WAV, FLAC, M4A. Maximum size: 50MB</p>
            </div>

            <!-- External Link (Optional) -->
            <div>
                <label for="external_link" class="block text-sm font-medium text-gray-700 mb-2">External Link (Optional)</label>
                <input 
                    type="url" 
                    id="external_link" 
                    name="external_link" 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="YouTube, SoundCloud, or other streaming link"
                    inputmode="url" autocomplete="url" maxlength="2048"
                >
                <p class="text-sm text-gray-500 mt-1">If you prefer to link to an external source instead of uploading</p>
            </div>

            <!-- Website or Article Link (Optional) -->
            <div>
                <label for="url" class="block text-sm font-medium text-gray-700 mb-2">Website or Article Link (Optional)</label>
                <input
                    type="url"
                    id="url"
                    name="url"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="https://your-site.com/song-story"
                    inputmode="url" autocomplete="url" maxlength="2048"
                >
                <p class="text-sm text-gray-500 mt-1">Your official website, blog post, or press article about the song.</p>
            </div>

            <!-- Linktree (Optional) -->
            <div>
                <label for="linktree" class="block text-sm font-medium text-gray-700 mb-2">Linktree (Optional)</label>
                <input
                    type="url"
                    id="linktree"
                    name="linktree"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="https://linktr.ee/yourname"
                    inputmode="url" autocomplete="url" maxlength="2048"
                >
                <p class="text-sm text-gray-500 mt-1">A Linktree or similar multi-link page for your music and socials.</p>
            </div>

            <!-- Social Media Link (Optional) -->
            <div>
                <label for="social_link" class="block text-sm font-medium text-gray-700 mb-2">Social Media Link (Optional)</label>
                <input
                    type="url"
                    id="social_link"
                    name="social_link"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="https://twitter.com/yourhandle"
                    inputmode="url" autocomplete="url" maxlength="2048"
                >
                <p class="text-sm text-gray-500 mt-1">A single social media profile (Twitter, Instagram, etc.) for this song.</p>
            </div>

            <button type="submit" class="w-full px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition duration-300">
                Submit Your Song
            </button>
        </form>
    </div>
</div>
{% endblock %}
